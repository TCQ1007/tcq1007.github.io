/* 代码高亮优化样式 */

/* 内联代码样式 */
:not(pre) > code {
  background: linear-gradient(135deg, rgba(40, 44, 52, 0.95), rgba(33, 37, 43, 0.95)) !important;
  color: #abb2bf !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 6px !important;
  font-size: 0.875rem !important;
  font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', 'Consolas', 'Monaco', monospace !important;
  border: 1px solid rgba(86, 182, 194, 0.2) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  font-weight: 500 !important;
}

/* 代码块容器样式 */
pre {
  background: linear-gradient(135deg, #282c34, #21252b) !important;
  border-radius: 12px !important;
  padding: 1.5rem !important;
  margin: 2rem 0 !important;
  border: 1px solid #3e4451 !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
  position: relative !important;
  overflow-x: auto !important;
}

/* 代码块顶部装饰线 */
pre::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, #56b6c2, transparent);
}

/* 代码块内的代码样式 */
pre code {
  background: transparent !important;
  color: #abb2bf !important;
  padding: 0 !important;
  border: none !important;
  box-shadow: none !important;
  font-size: 0.9rem !important;
  line-height: 1.6 !important;
  font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', 'Consolas', 'Monaco', monospace !important;
}

/* 语法高亮颜色优化 */
.shiki {
  background: transparent !important;
}

/* 关键字 */
.shiki .token.keyword {
  color: #c678dd !important;
  font-weight: 600 !important;
}

/* 字符串 */
.shiki .token.string {
  color: #98c379 !important;
}

/* 数字 */
.shiki .token.number {
  color: #d19a66 !important;
}

/* 函数名 */
.shiki .token.function {
  color: #61afef !important;
  font-weight: 500 !important;
}

/* 变量 */
.shiki .token.variable {
  color: #e06c75 !important;
}

/* 注释 */
.shiki .token.comment {
  color: #5c6370 !important;
  font-style: italic !important;
}

/* 操作符 */
.shiki .token.operator {
  color: #56b6c2 !important;
}

/* 标点符号 */
.shiki .token.punctuation {
  color: #abb2bf !important;
}

/* 类名 */
.shiki .token.class-name {
  color: #e5c07b !important;
  font-weight: 500 !important;
}

/* 属性 */
.shiki .token.property {
  color: #e06c75 !important;
}

/* 标签 */
.shiki .token.tag {
  color: #e06c75 !important;
}

/* 属性名 */
.shiki .token.attr-name {
  color: #d19a66 !important;
}

/* 属性值 */
.shiki .token.attr-value {
  color: #98c379 !important;
}

/* 选择器 */
.shiki .token.selector {
  color: #e06c75 !important;
}

/* 重要声明 */
.shiki .token.important {
  color: #e06c75 !important;
  font-weight: bold !important;
}

/* 滚动条美化 */
pre::-webkit-scrollbar {
  height: 8px;
}

pre::-webkit-scrollbar-track {
  background: rgba(33, 37, 43, 0.5);
  border-radius: 4px;
}

pre::-webkit-scrollbar-thumb {
  background: linear-gradient(90deg, #56b6c2, #61afef);
  border-radius: 4px;
  transition: all 0.3s ease;
}

pre::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(90deg, #61afef, #c678dd);
}

/* 行号样式（如果启用） */
.line-numbers .line-numbers-rows {
  border-right: 1px solid #3e4451;
  padding-right: 1rem;
  margin-right: 1rem;
}

.line-numbers .line-numbers-rows > span {
  color: #5c6370;
  font-size: 0.8rem;
}

/* 高亮行样式 */
.highlight-line {
  background: rgba(86, 182, 194, 0.1);
  border-left: 3px solid #56b6c2;
  padding-left: 0.5rem;
  margin-left: -1rem;
  margin-right: -1rem;
  padding-right: 1rem;
}

/* 代码块语言标签 */
.code-lang {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background: rgba(86, 182, 194, 0.2);
  color: #56b6c2;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

/* 响应式调整 */
@media (max-width: 768px) {
  pre {
    margin: 1rem -1rem !important;
    border-radius: 0 !important;
    border-left: none !important;
    border-right: none !important;
  }
  
  :not(pre) > code {
    font-size: 0.8rem !important;
    padding: 0.2rem 0.4rem !important;
  }
}
